import { __decorate, __param } from 'tslib';
import { ComponentFactoryResolver, Inject, Injector, ElementRef, Optional, Input, Directive, forwardRef, NgModule } from '@angular/core';
import { TuiPortalService, TuiActiveZoneDirective, TuiParentsScrollService } from '@taiga-ui/cdk';
import { AbstractTuiDropdown } from '@taiga-ui/core/abstract';
import { TUI_DROPDOWN_DIRECTIVE } from '@taiga-ui/core/tokens';
import { TuiDropdownBoxModule } from '@taiga-ui/core/components/dropdown-box';

var TuiDropdownDirective_1;
let TuiDropdownDirective = TuiDropdownDirective_1 = class TuiDropdownDirective extends AbstractTuiDropdown {
    constructor(componentFactoryResolver, injector, portalService, elementRef, activeZone, refresh$) {
        super(componentFactoryResolver, injector, portalService, elementRef, activeZone);
        this.refresh$ = refresh$;
    }
    set open(value) {
        if (value) {
            this.openDropdownBox();
        }
        else {
            this.closeDropdownBox();
        }
    }
};
TuiDropdownDirective.ctorParameters = () => [
    { type: ComponentFactoryResolver, decorators: [{ type: Inject, args: [ComponentFactoryResolver,] }] },
    { type: Injector, decorators: [{ type: Inject, args: [Injector,] }] },
    { type: TuiPortalService, decorators: [{ type: Inject, args: [TuiPortalService,] }] },
    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] },
    { type: TuiActiveZoneDirective, decorators: [{ type: Inject, args: [TuiActiveZoneDirective,] }, { type: Optional }] },
    { type: TuiParentsScrollService, decorators: [{ type: Inject, args: [TuiParentsScrollService,] }] }
];
__decorate([
    Input('tuiDropdown')
], TuiDropdownDirective.prototype, "open", null);
TuiDropdownDirective = TuiDropdownDirective_1 = __decorate([
    Directive({
        selector: '[tuiDropdown]:not(ng-container)',
        providers: [
            {
                provide: TUI_DROPDOWN_DIRECTIVE,
                useExisting: forwardRef(() => TuiDropdownDirective_1),
            },
            TuiParentsScrollService,
        ],
    }),
    __param(0, Inject(ComponentFactoryResolver)),
    __param(1, Inject(Injector)),
    __param(2, Inject(TuiPortalService)),
    __param(3, Inject(ElementRef)),
    __param(4, Inject(TuiActiveZoneDirective)),
    __param(4, Optional()),
    __param(5, Inject(TuiParentsScrollService))
], TuiDropdownDirective);

let TuiDropdownModule = class TuiDropdownModule {
};
TuiDropdownModule = __decorate([
    NgModule({
        imports: [TuiDropdownBoxModule],
        declarations: [TuiDropdownDirective],
        exports: [TuiDropdownDirective],
    })
], TuiDropdownModule);

/**
 * Generated bundle index. Do not edit.
 */

export { TuiDropdownDirective, TuiDropdownModule };
//# sourceMappingURL=taiga-ui-core-directives-dropdown.js.map
