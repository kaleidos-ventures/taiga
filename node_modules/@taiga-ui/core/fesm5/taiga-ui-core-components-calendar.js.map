{"version":3,"file":"taiga-ui-core-components-calendar.js","sources":["ng://@taiga-ui/core/components/calendar/calendar.component.ts","ng://@taiga-ui/core/components/calendar/calendar.module.ts","ng://@taiga-ui/core/components/calendar/taiga-ui-core-components-calendar.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\nimport {\n    ALWAYS_FALSE_HANDLER,\n    nullableSame,\n    TUI_FIRST_DAY,\n    TUI_LAST_DAY,\n    TuiBooleanHandler,\n    TuiDay,\n    TuiDayRange,\n    tuiDefaultProp,\n    TuiMapper,\n    TuiMonth,\n    TuiYear,\n} from '@taiga-ui/cdk';\nimport {TUI_DEFAULT_MARKER_HANDLER} from '@taiga-ui/core/constants';\nimport {TuiWithOptionalMinMax} from '@taiga-ui/core/interfaces';\nimport {TuiMarkerHandler} from '@taiga-ui/core/types';\n\n// @dynamic\n@Component({\n    selector: 'tui-calendar',\n    templateUrl: './calendar.template.html',\n    styleUrls: ['./calendar.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiCalendarComponent implements TuiWithOptionalMinMax<TuiDay> {\n    @Input()\n    @tuiDefaultProp()\n    month = TuiMonth.currentLocal();\n\n    @Input()\n    @tuiDefaultProp()\n    value: TuiDayRange | TuiDay | null = null;\n\n    @Input()\n    @tuiDefaultProp()\n    disabledItemHandler: TuiBooleanHandler<TuiDay> = ALWAYS_FALSE_HANDLER;\n\n    @Input()\n    @tuiDefaultProp()\n    min = TUI_FIRST_DAY;\n\n    @Input()\n    @tuiDefaultProp()\n    max = TUI_LAST_DAY;\n\n    @Input()\n    @tuiDefaultProp()\n    minViewedMonth: TuiMonth = TUI_FIRST_DAY;\n\n    @Input()\n    @tuiDefaultProp()\n    maxViewedMonth: TuiMonth = TUI_LAST_DAY;\n\n    @Input()\n    @tuiDefaultProp()\n    hoveredItem: TuiDay | null = null;\n\n    @Input()\n    @tuiDefaultProp()\n    showAdjacent = true;\n\n    @Input()\n    @tuiDefaultProp()\n    markerHandler: TuiMarkerHandler = TUI_DEFAULT_MARKER_HANDLER;\n\n    @Output()\n    readonly dayClick = new EventEmitter<TuiDay>();\n\n    @Output()\n    readonly monthChange = new EventEmitter<TuiMonth>();\n\n    @Output()\n    readonly hoveredItemChange = new EventEmitter<TuiDay | null>();\n\n    year: TuiYear | null = null;\n\n    readonly disabledItemHandlerMapper: TuiMapper<\n        TuiBooleanHandler<TuiDay>,\n        TuiBooleanHandler<TuiDay>\n    > = (disabledItemHandler, min: TuiDay, max: TuiDay) => item =>\n        item.dayBefore(min) || item.dayAfter(max) || disabledItemHandler(item);\n\n    get computedMonth(): TuiMonth {\n        const {month, computedMinViewedMonth, computedMaxViewedMonth} = this;\n\n        if (month.monthBefore(computedMinViewedMonth)) {\n            return computedMinViewedMonth;\n        }\n\n        if (month.monthAfter(computedMaxViewedMonth)) {\n            return computedMaxViewedMonth;\n        }\n\n        return month;\n    }\n\n    get computedMinViewedMonth(): TuiMonth {\n        return this.minViewedMonth.monthSameOrAfter(this.min)\n            ? this.minViewedMonth\n            : this.min;\n    }\n\n    get computedMaxViewedMonth(): TuiMonth {\n        return this.maxViewedMonth.monthSameOrBefore(this.max)\n            ? this.maxViewedMonth\n            : this.max;\n    }\n\n    onPaginationYearClick(year: TuiYear) {\n        this.year = year;\n    }\n\n    onPickerYearClick({year}: TuiYear) {\n        this.year = null;\n        this.updateViewedMonth(new TuiMonth(year, this.computedMonth.month));\n    }\n\n    onPaginationValueChange(month: TuiMonth) {\n        this.updateViewedMonth(month);\n    }\n\n    onDayClick(day: TuiDay) {\n        this.dayClick.emit(day);\n    }\n\n    onHoveredItemChange(day: TuiDay | null) {\n        this.updateHoveredDay(day);\n    }\n\n    private updateViewedMonth(month: TuiMonth) {\n        if (this.month.monthSame(month)) {\n            return;\n        }\n\n        this.month = month;\n        this.monthChange.emit(month);\n    }\n\n    private updateHoveredDay(day: TuiDay | null) {\n        if (nullableSame(this.hoveredItem, day, (a, b) => a.daySame(b))) {\n            return;\n        }\n\n        this.hoveredItem = day;\n        this.hoveredItemChange.emit(day);\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiMapperPipeModule} from '@taiga-ui/cdk';\nimport {TuiPrimitiveCalendarModule} from '@taiga-ui/core/components/primitive-calendar';\nimport {TuiPrimitiveYearPickerModule} from '@taiga-ui/core/components/primitive-year-picker';\nimport {TuiScrollbarModule} from '@taiga-ui/core/components/scrollbar';\nimport {TuiPrimitiveYearMonthPaginationModule} from '@taiga-ui/core/internal/primitive-year-month-pagination';\n\nimport {TuiCalendarComponent} from './calendar.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TuiPrimitiveYearMonthPaginationModule,\n        TuiPrimitiveCalendarModule,\n        TuiPrimitiveYearPickerModule,\n        TuiScrollbarModule,\n        TuiMapperPipeModule,\n    ],\n    declarations: [TuiCalendarComponent],\n    exports: [TuiCalendarComponent],\n})\nexport class TuiCalendarModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}