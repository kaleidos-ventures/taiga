{"version":3,"file":"taiga-ui-core-internal-svg-defs-host.js","sources":["ng://@taiga-ui/core/internal/svg-defs-host/svg-defs-host.component.ts","ng://@taiga-ui/core/internal/svg-defs-host/svg-defs-host.module.ts","ng://@taiga-ui/core/internal/svg-defs-host/taiga-ui-core-internal-svg-defs-host.ts"],"sourcesContent":["import {DOCUMENT, isPlatformServer} from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    Inject,\n    OnInit,\n    PLATFORM_ID,\n} from '@angular/core';\nimport {SafeHtml} from '@angular/platform-browser';\nimport {TuiDestroyService} from '@taiga-ui/cdk';\nimport {TuiSvgService} from '@taiga-ui/core/services';\nimport {innerHTML} from '@taiga-ui/core/utils/polyfills';\nimport {takeUntil} from 'rxjs/operators';\n\n// @dynamic\n@Component({\n    selector: 'tui-svg-defs-host',\n    templateUrl: './svg-defs-host.template.html',\n    styleUrls: ['./svg-defs-host.style.less'],\n    providers: [TuiDestroyService],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiSvgDefsHostComponent implements OnInit {\n    items!: IterableIterator<SafeHtml>;\n    isBrowser = true;\n\n    constructor(\n        @Inject(DOCUMENT) documentRef: Document,\n        @Inject(TuiSvgService) private readonly svgService: TuiSvgService,\n        @Inject(ChangeDetectorRef) private readonly changeDetectorRef: ChangeDetectorRef,\n        @Inject(TuiDestroyService)\n        private readonly destroy$: TuiDestroyService,\n        @Inject(PLATFORM_ID) platformId: Object,\n    ) {\n        this.isBrowser = !isPlatformServer(platformId);\n        innerHTML(documentRef);\n    }\n\n    // @bad TODO: Looks like it could be async piped but it was probably written like that for a reason\n    ngOnInit() {\n        this.svgService.items$.pipe(takeUntil(this.destroy$)).subscribe(defsMap => {\n            this.items = defsMap.values();\n            this.changeDetectorRef.detectChanges();\n        });\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiLetModule} from '@taiga-ui/cdk';\nimport {TuiSvgDefsHostComponent} from './svg-defs-host.component';\n\n@NgModule({\n    imports: [CommonModule, TuiLetModule],\n    declarations: [TuiSvgDefsHostComponent],\n    exports: [TuiSvgDefsHostComponent],\n})\nexport class TuiSvgDefsHostModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;AAeA;;IAYI,iCACsB,WAAqB,EACC,UAAyB,EACrB,iBAAoC,EAE/D,QAA2B,EACvB,UAAkB;QAJC,eAAU,GAAV,UAAU,CAAe;QACrB,sBAAiB,GAAjB,iBAAiB,CAAmB;QAE/D,aAAQ,GAAR,QAAQ,CAAmB;QAPhD,cAAS,GAAG,IAAI,CAAC;QAUb,IAAI,CAAC,SAAS,GAAG,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;QAC/C,SAAS,CAAC,WAAW,CAAC,CAAC;KAC1B;;IAGD,0CAAQ,GAAR;QAAA,iBAKC;QAJG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,UAAA,OAAO;YACnE,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;YAC9B,KAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;SAC1C,CAAC,CAAC;KACN;;gBAjBkC,QAAQ,uBAAtC,MAAM,SAAC,QAAQ;gBACoC,aAAa,uBAAhE,MAAM,SAAC,aAAa;gBAC0C,iBAAiB,uBAA/E,MAAM,SAAC,iBAAiB;gBAEE,iBAAiB,uBAD3C,MAAM,SAAC,iBAAiB;gBAEQ,MAAM,uBAAtC,MAAM,SAAC,WAAW;;IAVd,uBAAuB;QAPnC,SAAS,CAAC;YACP,QAAQ,EAAE,mBAAmB;YAC7B,yjBAA4C;YAE5C,SAAS,EAAE,CAAC,iBAAiB,CAAC;YAC9B,eAAe,EAAE,uBAAuB,CAAC,MAAM;;SAClD,CAAC;QAMO,WAAA,MAAM,CAAC,QAAQ,CAAC,CAAA;QAChB,WAAA,MAAM,CAAC,aAAa,CAAC,CAAA;QACrB,WAAA,MAAM,CAAC,iBAAiB,CAAC,CAAA;QACzB,WAAA,MAAM,CAAC,iBAAiB,CAAC,CAAA;QAEzB,WAAA,MAAM,CAAC,WAAW,CAAC,CAAA;OAVf,uBAAuB,CAuBnC;IAAD,8BAAC;CAvBD;;;ICbA;KAAoC;IAAvB,oBAAoB;QALhC,QAAQ,CAAC;YACN,OAAO,EAAE,CAAC,YAAY,EAAE,YAAY,CAAC;YACrC,YAAY,EAAE,CAAC,uBAAuB,CAAC;YACvC,OAAO,EAAE,CAAC,uBAAuB,CAAC;SACrC,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAApC;;ACVA;;;;;;"}