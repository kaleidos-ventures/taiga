{"version":3,"file":"taiga-ui-kit-directives-dropdown-selection.js","sources":["ng://@taiga-ui/kit/directives/dropdown-selection/dropdown-selection.directive.ts","ng://@taiga-ui/kit/directives/dropdown-selection/dropdown-selection.module.ts","ng://@taiga-ui/kit/directives/dropdown-selection/taiga-ui-kit-directives-dropdown-selection.ts"],"sourcesContent":["import {DOCUMENT} from '@angular/common';\nimport {\n    ChangeDetectorRef,\n    ComponentFactoryResolver,\n    Directive,\n    ElementRef,\n    forwardRef,\n    Host,\n    Inject,\n    Injector,\n    Input,\n    NgZone,\n    OnDestroy,\n    Optional,\n    Renderer2,\n    ViewContainerRef,\n} from '@angular/core';\nimport {\n    ALWAYS_TRUE_HANDLER,\n    CHAR_NO_BREAK_SPACE,\n    CHAR_ZERO_WIDTH_SPACE,\n    getNativeFocused,\n    px,\n    TuiActiveZoneDirective,\n    TuiBooleanHandler,\n    TuiDestroyService,\n    TuiParentsScrollService,\n    TuiPortalService,\n    typedFromEvent,\n} from '@taiga-ui/cdk';\nimport {\n    AbstractTuiDropdown,\n    TUI_DOCUMENT_OR_SHADOW_ROOT,\n    TUI_DROPDOWN_DIRECTIVE,\n    TUI_ELEMENT_REF,\n    TuiDropdown,\n} from '@taiga-ui/core';\nimport {TuiDropdownPosition} from '@taiga-ui/kit/enums';\nimport {getWordRange} from '@taiga-ui/kit/utils/dom';\nimport {merge} from 'rxjs';\nimport {map, switchMapTo, takeUntil} from 'rxjs/operators';\n\n// @dynamic\n@Directive({\n    selector: '[tuiDropdownSelection]:not(ng-container)',\n    providers: [\n        {\n            provide: TUI_DROPDOWN_DIRECTIVE,\n            useExisting: forwardRef(() => TuiDropdownSelectionDirective),\n        },\n        TuiParentsScrollService,\n        TuiDestroyService,\n    ],\n})\nexport class TuiDropdownSelectionDirective\n    extends AbstractTuiDropdown\n    implements TuiDropdown, OnDestroy {\n    @Input()\n    set tuiDropdownSelection(handler: TuiBooleanHandler<Range> | undefined) {\n        if (!handler) {\n            return;\n        }\n\n        const inHostAndValid =\n            this.elementRef.nativeElement.contains(this.range.commonAncestorContainer) &&\n            handler(this.range);\n\n        this.visibilityHandler = handler;\n        this.toggleDropdownBox(inHostAndValid);\n    }\n\n    @Input('tuiDropdownSelectionPosition')\n    position = TuiDropdownPosition.Selection;\n\n    private range: Range;\n\n    private visibilityHandler: TuiBooleanHandler<Range> = ALWAYS_TRUE_HANDLER;\n\n    private readonly documentRef: Document;\n\n    private ghost?: HTMLElement;\n\n    constructor(\n        @Inject(DOCUMENT) documentRef: Document,\n        @Inject(ComponentFactoryResolver)\n        componentFactoryResolver: ComponentFactoryResolver,\n        @Inject(Injector) injector: Injector,\n        @Inject(TuiPortalService) portalService: TuiPortalService,\n        @Host() @Inject(ElementRef) elementRef: ElementRef<HTMLElement>,\n        @Inject(TuiActiveZoneDirective)\n        @Optional()\n        activeZone: TuiActiveZoneDirective | null,\n        @Inject(TUI_DOCUMENT_OR_SHADOW_ROOT)\n        @Optional()\n        shadowRootRef: Document | null,\n        @Inject(TUI_ELEMENT_REF)\n        @Optional()\n        customElementRef: ElementRef<HTMLElement> | null,\n        @Inject(TuiDestroyService)\n        destroy$: TuiDestroyService,\n        @Inject(TuiParentsScrollService) readonly refresh$: TuiParentsScrollService,\n        @Inject(ChangeDetectorRef) private readonly changeDetectorRef: ChangeDetectorRef,\n        @Inject(NgZone) private readonly ngZone: NgZone,\n        @Inject(Renderer2) private readonly renderer: Renderer2,\n        @Inject(ViewContainerRef) private readonly viewContainerRef: ViewContainerRef,\n    ) {\n        super(\n            componentFactoryResolver,\n            injector,\n            portalService,\n            customElementRef || elementRef,\n            activeZone,\n        );\n        this.documentRef = shadowRootRef || documentRef;\n        this.range = this.documentRef.createRange();\n\n        const {nativeElement} = this.elementRef;\n\n        merge(\n            typedFromEvent(this.documentRef, 'mouseup'),\n            typedFromEvent(nativeElement, 'mousedown').pipe(\n                switchMapTo(\n                    typedFromEvent(nativeElement, 'mousemove').pipe(\n                        takeUntil(typedFromEvent(this.documentRef, 'mouseup')),\n                    ),\n                ),\n            ),\n            typedFromEvent(nativeElement, 'keyup'),\n        )\n            .pipe(\n                map(() => {\n                    const active = getNativeFocused(this.documentRef);\n                    const selection = this.documentRef.getSelection();\n\n                    if (\n                        (active instanceof HTMLInputElement ||\n                            active instanceof HTMLTextAreaElement) &&\n                        nativeElement.contains(active)\n                    ) {\n                        return this.veryVerySadInputFix(active);\n                    }\n\n                    return selection && selection.rangeCount\n                        ? selection.getRangeAt(0)\n                        : this.range;\n                }),\n                takeUntil(destroy$),\n            )\n            .subscribe(range => {\n                const contained = nativeElement.contains(range.commonAncestorContainer);\n\n                this.range = contained ? range : this.range;\n\n                const valid =\n                    contained &&\n                    (!this.visibilityHandler || this.visibilityHandler(this.range));\n\n                this.toggleDropdownBox(valid || this.inDropdown(range));\n            });\n    }\n\n    get clientRect(): ClientRect {\n        const {defaultView} = this.documentRef;\n        const {rangeRect} = this;\n        const frameElement = defaultView ? defaultView.frameElement : null;\n\n        if (!frameElement) {\n            return rangeRect;\n        }\n\n        const documentRect = frameElement.getBoundingClientRect();\n\n        return {\n            top: rangeRect.top + documentRect.top,\n            left: rangeRect.left + documentRect.left,\n            right: rangeRect.left + documentRect.left + rangeRect.width,\n            bottom: rangeRect.top + documentRect.top + rangeRect.height,\n            width: rangeRect.width,\n            height: rangeRect.height,\n        };\n    }\n\n    ngOnDestroy() {\n        this.closeDropdownBox();\n\n        if (this.ghost) {\n            this.renderer.removeChild(\n                this.viewContainerRef.element.nativeElement,\n                this.ghost,\n            );\n        }\n    }\n\n    /**\n     * get ClientRect of current Range according to provided position\n     */\n    private get rangeRect(): ClientRect {\n        switch (this.position) {\n            case TuiDropdownPosition.Tag:\n                const {commonAncestorContainer} = this.range;\n                const element =\n                    commonAncestorContainer.nodeType === Node.ELEMENT_NODE\n                        ? commonAncestorContainer\n                        : commonAncestorContainer.parentNode;\n\n                return (element as Element).getBoundingClientRect();\n            case TuiDropdownPosition.Word:\n                return getWordRange(this.range).getBoundingClientRect();\n            default:\n                return this.range.getBoundingClientRect();\n        }\n    }\n\n    /**\n     * Toggle dropdown visibility (has to be in ngZone.run because it could be initiated inside iframe in Editor)\n     */\n    private toggleDropdownBox(visible: boolean) {\n        this.ngZone.run(() => {\n            if (visible) {\n                this.openDropdownBox();\n            } else {\n                this.closeDropdownBox();\n            }\n\n            this.changeDetectorRef.markForCheck();\n        });\n    }\n\n    /**\n     * Check if Node is inside dropdown\n     */\n    private boxContains(node: Node): boolean {\n        return (\n            !!this.dropdownBoxRef &&\n            this.dropdownBoxRef.location.nativeElement.contains(node)\n        );\n    }\n\n    /**\n     * Check if given range is at leaset partially inside dropdown\n     */\n    private inDropdown(range: Range): boolean {\n        const {startContainer, endContainer} = range;\n        const inDropdown = this.boxContains(range.commonAncestorContainer);\n        const hostToDropdown =\n            this.boxContains(endContainer) &&\n            this.elementRef.nativeElement.contains(startContainer);\n        const dropdownToHost =\n            this.boxContains(startContainer) &&\n            this.elementRef.nativeElement.contains(endContainer);\n\n        return inDropdown || hostToDropdown || dropdownToHost;\n    }\n\n    /**\n     * Position invisible DIV and create Range similar to selected range inside input/textarea\n     */\n    private veryVerySadInputFix(element: HTMLInputElement | HTMLTextAreaElement): Range {\n        const {ghost = this.initGhost(element)} = this;\n        const {top, left, width, height} = element.getBoundingClientRect();\n        const {selectionStart, selectionEnd} = element;\n        const range = this.documentRef.createRange();\n        const hostRect = this.elementRef.nativeElement.getBoundingClientRect();\n\n        ghost.style.top = px(top - hostRect.top);\n        ghost.style.left = px(left - hostRect.left);\n        ghost.style.width = px(width);\n        ghost.style.height = px(height);\n        ghost.textContent = CHAR_ZERO_WIDTH_SPACE + element.value + CHAR_NO_BREAK_SPACE;\n\n        range.setStart(ghost.firstChild!, selectionStart || 0);\n        range.setEnd(ghost.firstChild!, selectionEnd || 0);\n\n        return range;\n    }\n\n    /**\n     * Create an invisible DIV styled exactly like input/textarea element inside directive\n     */\n    private initGhost(element: HTMLInputElement | HTMLTextAreaElement): HTMLElement {\n        const ghost = this.renderer.createElement('div');\n        const {nativeElement} = this.viewContainerRef.element;\n        const {font, letterSpacing, textTransform, padding} = getComputedStyle(element);\n\n        ghost.style.position = 'absolute';\n        ghost.style.pointerEvents = 'none';\n        ghost.style.opacity = '0';\n        ghost.style.whiteSpace = 'pre-wrap';\n        ghost.style.font = font;\n        ghost.style.letterSpacing = letterSpacing;\n        ghost.style.textTransform = textTransform;\n        ghost.style.padding = padding;\n\n        this.renderer.appendChild(nativeElement, ghost);\n        this.ghost = ghost;\n\n        return ghost;\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {TuiDropdownBoxModule} from '@taiga-ui/core';\nimport {TuiDropdownSelectionDirective} from './dropdown-selection.directive';\n\n@NgModule({\n    imports: [TuiDropdownBoxModule],\n    declarations: [TuiDropdownSelectionDirective],\n    exports: [TuiDropdownSelectionDirective],\n})\nexport class TuiDropdownSelectionModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}